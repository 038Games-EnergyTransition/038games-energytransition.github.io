<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>038 Energy Transition: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">038 Energy Transition
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_038EnergyTransition_addons_quester_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="images/QuesterLogo.png" alt="images/QuesterLogo.png" class="inline"/></p>
<p>Quester is a C# based quest editor for Godot that utilizes nodes to create and manage quests in your game. Making it easier for not only game developers, but also designers to create engaging and immersive quests for their players.</p>
<p><img src="images/QuesterPreview.png" alt="images/QuesterPreview.png" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Features</h1>
<ul>
<li><b>Node-based Quest Editor</b>: Quester provides a visual interface where you can create quests using nodes.</li>
<li><b>Flexible Quest Structure</b>: Quester allows you to create quests with multiple branches and outcomes. You can define different paths and conditions for completing the quest, giving you full control over the quest's structure and progression.</li>
<li><b>Scripting with C#</b>: Quester is built using C#. You can write custom scripts to handle complex quest logic, interact with other game systems, and create dynamic quest experiences.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Getting Started</h1>
<p>To get started with Quester, follow these steps:</p>
<ol type="1">
<li>Download Quester.</li>
<li>Place the <code>addons/quester</code> folder in your Godot project directory.</li>
<li>Enable the Quester plugin in your project settings.</li>
<li>Explore the example quests provided in the project to get familiar with the node-based quest editor.</li>
</ol>
<h1><a class="anchor" id="autotoc_md3"></a>
Using the Condition and Action Nodes</h1>
<p>Quester provides a condition and an action node that you can use to define the logic of your quests. A data manager is required to store the data of the quest. An example of a data manager is as follows:</p>
<div class="fragment"><div class="line">using Godot;</div>
<div class="line">using Godot.Collections;</div>
<div class="line"> </div>
<div class="line">public partial class DataManager : Node</div>
<div class="line">{</div>
<div class="line">    // Data dictionary to store key-value pairs</div>
<div class="line">    private Dictionary&lt;string, Variant&gt; _data = new Dictionary&lt;string, Variant&gt;();</div>
<div class="line"> </div>
<div class="line">    public override void _Ready()</div>
<div class="line">    {</div>
<div class="line">        // Register event handlers for condition queries</div>
<div class="line">        QuestManager.Instance.ConditionQueryRequested += (string type, string key, Variant value, QuestCondition requester) =&gt;</div>
<div class="line">        {</div>
<div class="line">            if (type == &quot;variable&quot;)</div>
<div class="line">            {</div>
<div class="line">                if (CompareValue(key, value))</div>
<div class="line">                {</div>
<div class="line">                    requester.Completed = true;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        // Register event handlers for action queries</div>
<div class="line">        QuestManager.Instance.ActionQueryRequested += (string type, string key, Variant value, QuestAction requester) =&gt;</div>
<div class="line">        {</div>
<div class="line">            if (type == &quot;variable&quot;)</div>
<div class="line">            {</div>
<div class="line">                SetValue(key, value);</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Helper method to compare the value of a key with a given value</div>
<div class="line">    private bool CompareValue(string key, Variant value)</div>
<div class="line">    {</div>
<div class="line">        if (value.VariantType == Variant.Type.Float)</div>
<div class="line">        {</div>
<div class="line">            return (float)value % 1 == 0 ? GetValue(key).Equals((int)value) : GetValue(key).Equals(value);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        return GetValue(key).Equals(value);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Helper method to set the value of a key</div>
<div class="line">    public void SetValue(string key, Variant value)</div>
<div class="line">    {</div>
<div class="line">        if (_data.ContainsKey(key))</div>
<div class="line">        {</div>
<div class="line">            _data[key] = value;</div>
<div class="line">        }</div>
<div class="line">        else</div>
<div class="line">        {</div>
<div class="line">            _data.Add(key, value);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Helper method to get the value of a key</div>
<div class="line">    public Variant GetValue(string key)</div>
<div class="line">    {</div>
<div class="line">        if (_data.ContainsKey(key))</div>
<div class="line">        {</div>
<div class="line">            return _data[key];</div>
<div class="line">        }</div>
<div class="line">        return new Variant();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> Using the data manager, you can use conditions and actions that interact with the data stored in the data manager. For example, scores, game progress, or player choices.</p>
<p>These conditions and actions can be used to create complex quest logic and interactions. And can be used by other systems in your game to create dynamic and engaging quests.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Nodes</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
Start Node</h2>
<p><img src="images/StartNode.png" alt="" class="inline"/></p>
<p>The start node is the entry point of the quest. It is where the quest begins and triggers the first set of actions or conditions.</p>
<p>Load a quest from resource and create an instance <code>quest = (<a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a>)Quest.Instantiate();</code> and start a quest using <code>QuestManager.Instance.StartQuest(quest);</code>. Which will trigger the start node of the selected quest.</p>
<p>The start of a quest triggers an event which can be listened to <code>QuestManager.Instance.QuestStarted += (<a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a> qr) =&gt; {};</code>.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
End Node</h2>
<p><img src="images/EndNode.png" alt="" class="inline"/></p>
<p>The end node is the exit point of the quest. It is where the quest ends and triggers the final set of actions or conditions.</p>
<p>The end of a quest triggers an event which can be listened to <code>QuestManager.Instance.QuestCompleted += (<a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a> qr) =&gt; {};</code>.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Objective Node</h2>
<p><img src="images/ObjectiveNode.png" alt="" class="inline"/></p>
<p>The objective node represents a task or goal that the player needs to complete to progress the quest. It can have multiple outcomes and conditions that determine its completion.</p>
<p>When an object is created, it triggers an event which can be listened to <code>QuestManager.Instance.QuestObjectiveAdded += (<a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a> qr, <a class="el" href="classQuestObjective.html">QuestObjective</a> qo) =&gt; {};</code></p>
<p>Once an objective is completed, it triggers an event which can be listened to <code>QuestManager.Instance.QuestObjectiveCompleted += (<a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a> qr, <a class="el" href="classQuestObjective.html">QuestObjective</a> qo) =&gt; {};</code>.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Condition Node</h2>
<p><img src="images/ConditionNode.png" alt="" class="inline"/></p>
<p>The condition node checks if a specific condition is met before proceeding to the next node. It can have multiple outcomes based on the condition's result.</p>
<p>This node triggers an event which can be listened to <code>QuestManager.Instance.ConditionQueryRequested += (string type, string key, Variant value, <a class="el" href="classQuestCondition.html" title="A node that represents a quest condition.">QuestCondition</a> requester) =&gt; {};</code>.</p>
<p>Set <code>requester.Completed = true;</code> if the condition is met.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Action Node</h2>
<p><img src="images/ActionNode.png" alt="" class="inline"/></p>
<p>The action node performs a specific action when triggered. It can have multiple outcomes based on the action's result.</p>
<p>This node triggers an event which can be listened to <code>QuestManager.Instance.ActionQueryRequested += (string type, string key, Variant value, <a class="el" href="classQuestAction.html" title="A node that represents an action in a quest.">QuestAction</a> requester) =&gt; {};</code>.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Starting a Quest</h1>
<p>In order to start the quest from your code, you have to load the <a class="el" href="classQuestResource.html" title="A resource where all information about a quest is stored.">QuestResource</a> you've created and instantiate it. Then you can start the quest using the <a class="el" href="classQuestManager.html" title="A class responsible for managing active quests, sending events and checking if quests are completed....">QuestManager</a>.</p>
<div class="fragment"><div class="line">public override void _Ready()</div>
<div class="line">{</div>
<div class="line">    // Load the quest resource</div>
<div class="line">    QuestResource quest = (QuestResource)ResourceLoader.Load(&quot;res://quests/quest.tres&quot;);</div>
<div class="line"> </div>
<div class="line">    // Instantiate the quest</div>
<div class="line">    quest = (QuestResource)Quest.Instantiate();</div>
<div class="line"> </div>
<div class="line">    // Start the quest</div>
<div class="line">    QuestManager.Instance.StartQuest(quest);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11"></a>
Observing Quest states</h1>
<p>Quester exposes several signals to keep track of active quests and their states.</p>
<div class="fragment"><div class="line">ConditionQueryRequestedEventHandler(string type, string key, Variant value, QuestCondition requester);</div>
<div class="line">ActionQueryRequestedEventHandler(string type, string key, Variant value, QuestAction requester);</div>
<div class="line">QuestStartedEventHandler(QuestResource quest);</div>
<div class="line">QuestObjectiveAddedEventHandler(QuestResource quest, QuestObjective objective);</div>
<div class="line">QuestObjectiveCompletedEventHandler(QuestResource quest, QuestObjective objective);</div>
<div class="line">QuestCompletedEventHandler(QuestResource quest);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
Quest utilities</h1>
<p>You can get an Array of active and completed quests at any time, by using <code>QuestManager.Instance.GetQuests()</code> and <code>QuestManager.Instance.GetCompletedQuests()</code> respectively.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Contributing</h1>
<p>Contributions to Quester are welcome! If you have any bug reports, feature requests, or would like to contribute code, feel free to open an issue or submit a pull request.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
License</h1>
<p>Quester is licensed under the MIT License. Feel free to use, modify, and distribute this software according to the terms of the license.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Credits</h1>
<p>Quester is inspired by <a href="https://github.com/TheWalruzz/godot-questify">Questify</a>, a GDScript-based quest editor for Godot. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
